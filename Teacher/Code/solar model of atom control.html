<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <canvas id="canvas"></canvas>
    <button id="hidden" onclick="hide()">hide</button>
    <div id="div"><center><input type="number" name="" id="count"><br>x<input type="range" name="" id="x" min="0" max="1" step="0.001"><br>y<input type="range" name="" id="y" min="0" max="1" step="0.001"></center><button id="bt" onclick="count()">enter</button></div>
<script type="text/javascript">
    window.addEventListener("mousemove",chek)
    var canvas = document.getElementById('canvas')
    var ctx = canvas.getContext("2d")
    canvas.width = window.innerWidth-40;
    canvas.height = window.innerHeight-40;
    var ball = [];
    var countBall = 500;
    var x = 1000;
    var y = 500;
    var num = 1;
    for(var i = 0; i<countBall;i++){
    ball.push({
        x: Math.random()*(100+innerWidth-200),
        y: Math.random()*(100+innerHeight-200),
        vx: (Math.random()-0.5)*5,
        vy: (Math.random()-0.5)*5,
        random: 1000+Math.random()*9000,
        xd: ball.x - x,
        yd: ball.y - y,
        radius: 15,
    })
}
    function draw() {
        ctx.clearRect(0,0,innerWidth,innerHeight);
        ctx.beginPath()
        ctx.arc(x,y,50,0,7)
        ctx.fill()
        ctx.beginPath()
        for(var i =0; i<countBall;i++){
        var b = ball[i];
        ctx.moveTo(b.x,b.y)
        ctx.arc(b.x,b.y,b.radius,0,7);
        }
        ctx.fill()
        animate()
    }
    function animate() {
        for(var i = 0;i<countBall;i++){
            var b = ball[i];
        b.xd = b.x-x
        b.yd = b.y-y
        b.vx = b.vx-b.xd/b.random
        b.vy = b.vy-b.yd/b.random
        b.x = b.x + b.vx;
        b.y = b.y + b.vy;
        }
    }
    function hide(){
        num= -num
        if (num>=-0) {
            
            document.getElementById("div").style.visibility ="visible"

        }
        else {
            document.getElementById("div").style.visibility = "hidden"
        }
        
    }
    function chek(){
        x = document.getElementById("x").value*innerWidth
        y = document.getElementById("y").value*innerHeight
    }
    function count(){
        countBall = document.getElementById("count").value
    }
setInterval(draw,16)
</script>
<style type="text/css">
#div{
    width: 300px;
    height: 300px;
    position: absolute;
    border: 3px solid black;
    background-color: gray;
    opacity: 0.6;
    top: 5px;
    left: 5px;
    padding: 20px;
}
#bt{
    width: 100%;
    height: 20px;

}
</style>
</body>
</html> 