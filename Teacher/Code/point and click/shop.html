<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<style type="text/css">
 
body{background-image: url('shop.gif');background-size: 100%;background-repeat: no-repeat;background-position: 0px -100px;}
	#hero{
		width: 300px;
		height: 595px;
		position: fixed;
		background-size: 100%;
		left: 0px;
		top: 900px;
		background-repeat: no-repeat;
		background-image: url('idle.png');
	}
	#dialog{
		width: 350px;
		height: 200px;
		border-radius: 20px;
		background-color:gray;
		opacity: 0.9; 
		position: fixed;
		right: 100px;
		top: 50px;
		visibility: hidden;
	}
	.bt{width: 100px;
		height: 30px;
		opacity: 0.6;
	}
</style>
<div id="hero"></div>
<div id="dialog">
	<center><div id="text"></div>
	<br><button onclick="yes()" class="bt">Да</button><button onclick="no()" class="bt">Нет</button></center>
</div>
<div id="shop" onclick="shop()"></div>
<script type="text/javascript">
window.addEventListener('click',move)
var x = 300;
var y = 100;
var vx= 0;
var vy= 0;
var dx= 0;
var dy= 0;
var mx = 0;
var my = 0;
 
     function move(){
     	document.getElementById('hero').style.backgroundImage = "url(walk.gif)"
        mx = event.x;
        my = event.y; 
    	dx = x-mx;
        dy = y-my;
        vx = dx/100;
        vy = dy/100;
    }
 
 
     function draw(){
     	if(my>600-350){
     	x = x+(-vx);
    	}
    	if(x>600){x=600;document.getElementById('hero').style.backgroundImage = "url(idle.png)";dialog()}
    	if(x<280){document.location='123.html'}
        document.getElementById('hero').style.left = x-50+"px"
        document.getElementById('hero').style.top = 200+y+"px"
        if(x>mx && x<mx+25){
        vx = 0;
        document.getElementById('hero').style.backgroundImage = "url(idle.png)"
		}
		if(y>my && y<my+25){
        vy = 0;
        document.getElementById('hero').style.backgroundImage = "url(idle.png)"
		}
 
		if(x>=mx){
			document.getElementById('hero').style.transform = "rotateY(180deg)"
		}
		else{document.getElementById('hero').style.transform = "rotateY(0deg)"}
			// if(reply==true){
 		// 		text="Что да? Ты глупый?"
 		// 		if(reply==true){text="Оно и видно<br><i>Конец диалога</i>"}
 		// 		else{text="Тогда что тебе нужно, уборная?"
 		// 		if (reply==true) {text="Уборной нет<br><i>Конец диалога</i>"}else{text="Помощь?"
 		// 		if (reply==true) {text="Хорошо"}
 		// 		else{text="Не морочь мне голову!"}
 		// 	}}
			// }
			// else if(reply==false){text="Ок<br><i>Конец диалога</i>"}
 		document.getElementById('text').innerHTML = text
	}
    	
 	function shop(){
 		document.location='shop.html'
 	}
 	var yesr =2;
 	var nor =2;
 	var text = 'Что нужно?'
 	function dialog(){
 		document.getElementById('dialog').style.visibility = "visible"

 	}
    function yes(){yesr*=2;
if(yesr==4 && nor==2){text="Что да? Ты глупый?"}
if(yesr==8 && nor==2){text="Оно и видно<br><i>Конец диалога</i>"}
if(yesr==8 && nor==4){text=text="Уборной нет<br><i>Конец диалога</i>"}
if(yesr==8 && nor==8){text="Хорошо"}
    }
    function no(){nor*=2;
if(nor==4 && yesr==2){text="Ок<br><i>Конец диалога</i>"}
if(nor==4 && yesr==4){text="Тогда что тебе нужно, уборная?"}
if(nor==8 && yesr==4){text="Помощь?"}
if(nor==16&& yesr==4){text="Не морочь мне голову!"}
    }
    setInterval(draw,32)
</script>
</body>
</html>