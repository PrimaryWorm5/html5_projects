
<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <canvas id="canvas"></canvas>
<script type="text/javascript">
window.addEventListener("keydown",control)
var canvas = document.getElementById("canvas")
var ctx = canvas.getContext("2d")
canvas.width = window.innerWidth-40
canvas.height = window.innerHeight-40
var x = 150,
 y = 150,
 x2 = 100,
 y2 = 100,
 result = 0 ,
 color = "red",
 speedx = 0,
 speedy = -5,
 xd = 0,
 yd = 0;
f()
function f() {
requestAnimationFrame(f)
xd = x - x2
yd = y - y2
if (xd<0) {
    xd = -xd
}
if (yd<0) {
    yd = -yd
}
if (result<=60) {
    if (x>=x2) {
        speedx = xd/20
    }
    if (x<=x2) {
        speedx = -xd/20
    }
    if (y>=y2) {
        speedy = yd/20
    }
    if (y<=y2) {
        speedy = -yd/20
    }
}
x = x + speedx
y = speedy + y
if (x >= innerWidth-40) {
    speedx = -speedx
}
if (y >= innerHeight-40) {
    speedy = -speedy
}
if (y <= 1) {
    speedy = -speedy
}
if (x <= 1) {
    speedx = -speedy
}
result = Math.sqrt(Math.pow(x - x2,2) + Math.pow(y - y2,2))
result = Math.round(result)
if (result <= 60) {
    color = "green"
}
else {
    color = "red"
}   
ctx.clearRect(0,0,innerWidth,innerHeight)
ctx.beginPath()
ctx.arc(x,y,30,0,7)
ctx.stroke()
ctx.beginPath()
ctx.arc(x2,y2,30,0,7)
ctx.strokeStyle = color
ctx.stroke()
ctx.font = "50px serif"
ctx.fillText(result,50,50)

}
function control(){
if (event.keyCode == "39") {
    x+=5
}
if (event.keyCode == "37") {
    x-=5
}
if (event.keyCode == "38") {
    y-=5
}
if (event.keyCode == "40") {
    y+=5
}
if (event.keyCode == "68") {
    x2+=10
}
if (event.keyCode == "65") {
    x2-=10
}
if (event.keyCode == "87") {
    y2-=10
}
if (event.keyCode == "83") {
    y2+=10
}

console.log(event)  
}
</script>
</body>
</html>